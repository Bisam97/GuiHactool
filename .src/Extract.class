' Gambas class file


Public Sub ButtonBox1_Click()

  If Not Dialog.OpenFile() Then
    ButtonBox1.Text = Dialog.path
  Endif

End

Public Sub ButtonBox3_Click()

  If Not Dialog.OpenFile() Then
    ButtonBox3.Text = Dialog.path
  Endif

End

Public Sub ButtonBox2_Click()

  If Not Dialog.SelectDirectory() Then
    ButtonBox2.Text = Dialog.path
  Endif

End

Public Sub Button1_Click()

  Dim p As Process

  Button1.Enabled = False
  If ButtonBox3.Text Then
    p = Shell "hactool -x --romfsdir=" & ButtonBox2.Text &/ "romfs --exefsdir=" & ButtonBox2.Text &/ "exefs --basenca " & ButtonBox1.text & " " & ButtonBox3.Text For Read As "Hactool"
  Else
    p = Shell "hactool -x --romfsdir=" & ButtonBox2.Text &/ "romfs --exefsdir=" & ButtonBox2.Text &/ "exefs " & ButtonBox1.Text For Read As "Hactool"
  Endif

End

Public Sub Hactool_Read()

  Dim p As Process

  p = Last
  TextLabel1.Text = p.ReadLine()
  If TextLabel1.Text = "Done!" Then Button1.Enabled = True
  Print TextLabel1.Text

End

